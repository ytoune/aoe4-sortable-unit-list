(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const _ of n)if(_.type==="childList")for(const c of _.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const _={};return n.integrity&&(_.integrity=n.integrity),n.referrerPolicy&&(_.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?_.credentials="include":n.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function r(n){if(n.ep)return;n.ep=!0;const _=o(n);fetch(n.href,_)}})();const je=()=>fetch("https://data.aoe4world.com/units/all.json").then(t=>t.json()),be=t=>Object.entries(Object.groupBy(t,e=>e.baseId)).map(([e,o])=>{const r=Array.from(new Set(o.flatMap(i=>{var d;return((d=i.movement)==null?void 0:d.speed)??[]}))).sort(),n=o.flatMap(i=>i.weapons.map(d=>d?d.damage/d.speed:0)),_=Array.from(new Set(o.flatMap(i=>i.armor.map(d=>d?d.type[0]+d.value:"0")))),c=i=>{const d=k=>i[k]?k[0]+i[k]:"";return[d("food"),d("wood"),d("gold"),d("stone"),d("oliveoil"),`(${i.popcap??"_"}/${i.time??"_"})`,d("vizier")].join("")},a=i=>{const d=k=>i[k]||0;return d("food")+d("wood")+d("gold")+d("stone")+d("oliveoil")},u=Array.from(new Set(o.flatMap(i=>c(i.costs)))),l=Array.from(new Set(o.flatMap(i=>a(i.costs)))),p=Array.from(new Set(o.flatMap(i=>i.classes))),s=Array.from(new Set(o.flatMap(i=>i.producedBy))),m=Array.from(new Set(o.flatMap(i=>i.civs.map(d=>`${d}${i.age}`))));return{id:o[0].baseId,name:o[0].baseId,speed:r[0]??-1,dps:n[0]??-1,armors:_.join(),costText:u.join(),costs:l.sort((i,d)=>i-d)[0]??0,civs:m,classes:p,producedBy:s,z_:o,z_speed2:r.join(),z_dps:n.join()}}).sort((e,o)=>(o==null?void 0:o.speed)-(e==null?void 0:e.speed));var R,y,we,M,_e,ke,Z,te,G,Q,T={},xe=[],Te=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,oe=Array.isArray;function A(t,e){for(var o in e)t[o]=e[o];return t}function $e(t){var e=t.parentNode;e&&e.removeChild(t)}function Fe(t,e,o){var r,n,_,c={};for(_ in e)_=="key"?r=e[_]:_=="ref"?n=e[_]:c[_]=e[_];if(arguments.length>2&&(c.children=arguments.length>3?R.call(arguments,2):o),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)c[_]===void 0&&(c[_]=t.defaultProps[_]);return B(t,c,r,n,null)}function B(t,e,o,r,n){var _={type:t,props:e,key:o,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:n??++we,__i:-1,__u:0};return n==null&&y.vnode!=null&&y.vnode(_),_}function L(t){return t.children}function U(t,e){this.props=t,this.context=e}function H(t,e){if(e==null)return t.__?H(t.__,t.__i+1):null;for(var o;e<t.__k.length;e++)if((o=t.__k[e])!=null&&o.__e!=null)return o.__e;return typeof t.type=="function"?H(t):null}function Se(t){var e,o;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((o=t.__k[e])!=null&&o.__e!=null){t.__e=t.__c.base=o.__e;break}return Se(t)}}function se(t){(!t.__d&&(t.__d=!0)&&M.push(t)&&!W.__r++||_e!==y.debounceRendering)&&((_e=y.debounceRendering)||ke)(W)}function W(){var t,e,o,r,n,_,c,a;for(M.sort(Z);t=M.shift();)t.__d&&(e=M.length,r=void 0,_=(n=(o=t).__v).__e,c=[],a=[],o.__P&&((r=A({},n)).__v=n.__v+1,y.vnode&&y.vnode(r),ne(o.__P,r,n,o.__n,o.__P.namespaceURI,32&n.__u?[_]:null,c,_??H(n),!!(32&n.__u),a),r.__v=n.__v,r.__.__k[r.__i]=r,Ae(c,r,a),r.__e!=_&&Se(r)),M.length>e&&M.sort(Z));W.__r=0}function Ce(t,e,o,r,n,_,c,a,u,l,p){var s,m,i,d,k,x=r&&r.__k||xe,v=e.length;for(o.__d=u,Le(o,e,x),u=o.__d,s=0;s<v;s++)(i=o.__k[s])!=null&&typeof i!="boolean"&&typeof i!="function"&&(m=i.__i===-1?T:x[i.__i]||T,i.__i=s,ne(t,i,m,n,_,c,a,u,l,p),d=i.__e,i.ref&&m.ref!=i.ref&&(m.ref&&re(m.ref,null,i),p.push(i.ref,i.__c||d,i)),k==null&&d!=null&&(k=d),65536&i.__u||m.__k===i.__k?(u&&!u.isConnected&&(u=H(m)),u=Pe(i,u,t)):typeof i.type=="function"&&i.__d!==void 0?u=i.__d:d&&(u=d.nextSibling),i.__d=void 0,i.__u&=-196609);o.__d=u,o.__e=k}function Le(t,e,o){var r,n,_,c,a,u=e.length,l=o.length,p=l,s=0;for(t.__k=[],r=0;r<u;r++)c=r+s,(n=t.__k[r]=(n=e[r])==null||typeof n=="boolean"||typeof n=="function"?null:typeof n=="string"||typeof n=="number"||typeof n=="bigint"||n.constructor==String?B(null,n,null,null,null):oe(n)?B(L,{children:n},null,null,null):n.constructor===void 0&&n.__b>0?B(n.type,n.props,n.key,n.ref?n.ref:null,n.__v):n)!=null?(n.__=t,n.__b=t.__b+1,a=De(n,o,c,p),n.__i=a,_=null,a!==-1&&(p--,(_=o[a])&&(_.__u|=131072)),_==null||_.__v===null?(a==-1&&s--,typeof n.type!="function"&&(n.__u|=65536)):a!==c&&(a===c+1?s++:a>c?p>u-c?s+=a-c:s--:a<c?a==c-1&&(s=a-c):s=0,a!==r+s&&(n.__u|=65536))):(_=o[c])&&_.key==null&&_.__e&&!(131072&_.__u)&&(_.__e==t.__d&&(t.__d=H(_)),Y(_,_,!1),o[c]=null,p--);if(p)for(r=0;r<l;r++)(_=o[r])!=null&&!(131072&_.__u)&&(_.__e==t.__d&&(t.__d=H(_)),Y(_,_))}function Pe(t,e,o){var r,n;if(typeof t.type=="function"){for(r=t.__k,n=0;r&&n<r.length;n++)r[n]&&(r[n].__=t,e=Pe(r[n],e,o));return e}t.__e!=e&&(o.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function De(t,e,o,r){var n=t.key,_=t.type,c=o-1,a=o+1,u=e[o];if(u===null||u&&n==u.key&&_===u.type&&!(131072&u.__u))return o;if(r>(u!=null&&!(131072&u.__u)?1:0))for(;c>=0||a<e.length;){if(c>=0){if((u=e[c])&&!(131072&u.__u)&&n==u.key&&_===u.type)return c;c--}if(a<e.length){if((u=e[a])&&!(131072&u.__u)&&n==u.key&&_===u.type)return a;a++}}return-1}function ie(t,e,o){e[0]==="-"?t.setProperty(e,o??""):t[e]=o==null?"":typeof o!="number"||Te.test(e)?o:o+"px"}function O(t,e,o,r,n){var _;e:if(e==="style")if(typeof o=="string")t.style.cssText=o;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)o&&e in o||ie(t.style,e,"");if(o)for(e in o)r&&o[e]===r[e]||ie(t.style,e,o[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=o,o?r?o.u=r.u:(o.u=te,t.addEventListener(e,_?Q:G,_)):t.removeEventListener(e,_?Q:G,_);else{if(n=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e in t)try{t[e]=o??"";break e}catch{}typeof o=="function"||(o==null||o===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,o))}}function ce(t){return function(e){if(this.l){var o=this.l[e.type+t];if(e.t==null)e.t=te++;else if(e.t<o.u)return;return o(y.event?y.event(e):e)}}}function ne(t,e,o,r,n,_,c,a,u,l){var p,s,m,i,d,k,x,v,$,C,N,P,E,f,g,b=e.type;if(e.constructor!==void 0)return null;128&o.__u&&(u=!!(32&o.__u),_=[a=e.__e=o.__e]),(p=y.__b)&&p(e);e:if(typeof b=="function")try{if(v=e.props,$=(p=b.contextType)&&r[p.__c],C=p?$?$.props.value:p.__:r,o.__c?x=(s=e.__c=o.__c).__=s.__E:("prototype"in b&&b.prototype.render?e.__c=s=new b(v,C):(e.__c=s=new U(v,C),s.constructor=b,s.render=Be),$&&$.sub(s),s.props=v,s.state||(s.state={}),s.context=C,s.__n=r,m=s.__d=!0,s.__h=[],s._sb=[]),s.__s==null&&(s.__s=s.state),b.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=A({},s.__s)),A(s.__s,b.getDerivedStateFromProps(v,s.__s))),i=s.props,d=s.state,s.__v=e,m)b.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(b.getDerivedStateFromProps==null&&v!==i&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(v,C),!s.__e&&(s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(v,s.__s,C)===!1||e.__v===o.__v)){for(e.__v!==o.__v&&(s.props=v,s.state=s.__s,s.__d=!1),e.__e=o.__e,e.__k=o.__k,e.__k.forEach(function(D){D&&(D.__=e)}),N=0;N<s._sb.length;N++)s.__h.push(s._sb[N]);s._sb=[],s.__h.length&&c.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(v,s.__s,C),s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(i,d,k)})}if(s.context=C,s.props=v,s.__P=t,s.__e=!1,P=y.__r,E=0,"prototype"in b&&b.prototype.render){for(s.state=s.__s,s.__d=!1,P&&P(e),p=s.render(s.props,s.state,s.context),f=0;f<s._sb.length;f++)s.__h.push(s._sb[f]);s._sb=[]}else do s.__d=!1,P&&P(e),p=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++E<25);s.state=s.__s,s.getChildContext!=null&&(r=A(A({},r),s.getChildContext())),m||s.getSnapshotBeforeUpdate==null||(k=s.getSnapshotBeforeUpdate(i,d)),Ce(t,oe(g=p!=null&&p.type===L&&p.key==null?p.props.children:p)?g:[g],e,o,r,n,_,c,a,u,l),s.base=e.__e,e.__u&=-161,s.__h.length&&c.push(s),x&&(s.__E=s.__=null)}catch(D){e.__v=null,u||_!=null?(e.__e=a,e.__u|=u?160:32,_[_.indexOf(a)]=null):(e.__e=o.__e,e.__k=o.__k),y.__e(D,e,o)}else _==null&&e.__v===o.__v?(e.__k=o.__k,e.__e=o.__e):e.__e=Oe(o.__e,e,o,r,n,_,c,u,l);(p=y.diffed)&&p(e)}function Ae(t,e,o){e.__d=void 0;for(var r=0;r<o.length;r++)re(o[r],o[++r],o[++r]);y.__c&&y.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(_){_.call(n)})}catch(_){y.__e(_,n.__v)}})}function Oe(t,e,o,r,n,_,c,a,u){var l,p,s,m,i,d,k,x=o.props,v=e.props,$=e.type;if($==="svg"?n="http://www.w3.org/2000/svg":$==="math"?n="http://www.w3.org/1998/Math/MathML":n||(n="http://www.w3.org/1999/xhtml"),_!=null){for(l=0;l<_.length;l++)if((i=_[l])&&"setAttribute"in i==!!$&&($?i.localName===$:i.nodeType===3)){t=i,_[l]=null;break}}if(t==null){if($===null)return document.createTextNode(v);t=document.createElementNS(n,$,v.is&&v),_=null,a=!1}if($===null)x===v||a&&t.data===v||(t.data=v);else{if(_=_&&R.call(t.childNodes),x=o.props||T,!a&&_!=null)for(x={},l=0;l<t.attributes.length;l++)x[(i=t.attributes[l]).name]=i.value;for(l in x)if(i=x[l],l!="children"){if(l=="dangerouslySetInnerHTML")s=i;else if(l!=="key"&&!(l in v)){if(l=="value"&&"defaultValue"in v||l=="checked"&&"defaultChecked"in v)continue;O(t,l,null,i,n)}}for(l in v)i=v[l],l=="children"?m=i:l=="dangerouslySetInnerHTML"?p=i:l=="value"?d=i:l=="checked"?k=i:l==="key"||a&&typeof i!="function"||x[l]===i||O(t,l,i,x[l],n);if(p)a||s&&(p.__html===s.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(s&&(t.innerHTML=""),Ce(t,oe(m)?m:[m],e,o,r,$==="foreignObject"?"http://www.w3.org/1999/xhtml":n,_,c,_?_[0]:o.__k&&H(o,0),a,u),_!=null)for(l=_.length;l--;)_[l]!=null&&$e(_[l]);a||(l="value",d!==void 0&&(d!==t[l]||$==="progress"&&!d||$==="option"&&d!==x[l])&&O(t,l,d,x[l],n),l="checked",k!==void 0&&k!==t[l]&&O(t,l,k,x[l],n))}return t}function re(t,e,o){try{typeof t=="function"?t(e):t.current=e}catch(r){y.__e(r,o)}}function Y(t,e,o){var r,n;if(y.unmount&&y.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||re(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(_){y.__e(_,e)}r.base=r.__P=null}if(r=t.__k)for(n=0;n<r.length;n++)r[n]&&Y(r[n],e,o||typeof t.type!="function");o||t.__e==null||$e(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function Be(t,e,o){return this.constructor(t,o)}function Ue(t,e,o){var r,n,_,c;y.__&&y.__(t,e),n=(r=typeof o=="function")?null:e.__k,_=[],c=[],ne(e,t=(!r&&o||e).__k=Fe(L,null,[t]),n||T,T,e.namespaceURI,!r&&o?[o]:n?null:e.firstChild?R.call(e.childNodes):null,_,!r&&o?o:n?n.__e:e.firstChild,r,c),Ae(_,t,c)}R=xe.slice,y={__e:function(t,e,o,r){for(var n,_,c;e=e.__;)if((n=e.__c)&&!n.__)try{if((_=n.constructor)&&_.getDerivedStateFromError!=null&&(n.setState(_.getDerivedStateFromError(t)),c=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t,r||{}),c=n.__d),c)return n.__E=n}catch(a){t=a}throw t}},we=0,U.prototype.setState=function(t,e){var o;o=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=A({},this.state),typeof t=="function"&&(t=t(A({},o),this.props)),t&&A(o,t),t!=null&&this.__v&&(e&&this._sb.push(e),se(this))},U.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),se(this))},U.prototype.render=L,M=[],ke=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Z=function(t,e){return t.__v.__b-e.__v.__b},W.__r=0,te=0,G=ce(!1),Q=ce(!0);var V,w,K,le,q=0,Me=[],I=[],S=y,ae=S.__b,ue=S.__r,fe=S.diffed,de=S.__c,pe=S.unmount,he=S.__;function He(t,e){S.__h&&S.__h(w,t,q||e),q=0;var o=w.__H||(w.__H={__:[],__h:[]});return t>=o.__.length&&o.__.push({__V:I}),o.__[t]}function Ne(t,e,o){var r=He(V++,2);if(r.t=t,!r.__c&&(r.__=[Re(void 0,e),function(a){var u=r.__N?r.__N[0]:r.__[0],l=r.t(u,a);u!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=w,!w.u)){var n=function(a,u,l){if(!r.__c.__H)return!0;var p=r.__c.__H.__.filter(function(m){return!!m.__c});if(p.every(function(m){return!m.__N}))return!_||_.call(this,a,u,l);var s=!1;return p.forEach(function(m){if(m.__N){var i=m.__[0];m.__=m.__N,m.__N=void 0,i!==m.__[0]&&(s=!0)}}),!(!s&&r.__c.props===a)&&(!_||_.call(this,a,u,l))};w.u=!0;var _=w.shouldComponentUpdate,c=w.componentWillUpdate;w.componentWillUpdate=function(a,u,l){if(this.__e){var p=_;_=void 0,n(a,u,l),_=p}c&&c.call(this,a,u,l)},w.shouldComponentUpdate=n}return r.__N||r.__}function me(t){return q=5,Ie(function(){return{current:t}},[])}function Ie(t,e){var o=He(V++,7);return Ve(o.__H,e)?(o.__V=t(),o.i=e,o.__h=t,o.__V):o.__}function ze(){for(var t;t=Me.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(z),t.__H.__h.forEach(ee),t.__H.__h=[]}catch(e){t.__H.__h=[],S.__e(e,t.__v)}}S.__b=function(t){w=null,ae&&ae(t)},S.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),he&&he(t,e)},S.__r=function(t){ue&&ue(t),V=0;var e=(w=t.__c).__H;e&&(K===w?(e.__h=[],w.__h=[],e.__.forEach(function(o){o.__N&&(o.__=o.__N),o.__V=I,o.__N=o.i=void 0})):(e.__h.forEach(z),e.__h.forEach(ee),e.__h=[],V=0)),K=w},S.diffed=function(t){fe&&fe(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Me.push(e)!==1&&le===S.requestAnimationFrame||((le=S.requestAnimationFrame)||We)(ze)),e.__H.__.forEach(function(o){o.i&&(o.__H=o.i),o.__V!==I&&(o.__=o.__V),o.i=void 0,o.__V=I})),K=w=null},S.__c=function(t,e){e.some(function(o){try{o.__h.forEach(z),o.__h=o.__h.filter(function(r){return!r.__||ee(r)})}catch(r){e.some(function(n){n.__h&&(n.__h=[])}),e=[],S.__e(r,o.__v)}}),de&&de(t,e)},S.unmount=function(t){pe&&pe(t);var e,o=t.__c;o&&o.__H&&(o.__H.__.forEach(function(r){try{z(r)}catch(n){e=n}}),o.__H=void 0,e&&S.__e(e,o.__v))};var ve=typeof requestAnimationFrame=="function";function We(t){var e,o=function(){clearTimeout(r),ve&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(o,100);ve&&(e=requestAnimationFrame(o))}function z(t){var e=w,o=t.__c;typeof o=="function"&&(t.__c=void 0,o()),w=e}function ee(t){var e=w;t.__c=t.__(),w=e}function Ve(t,e){return!t||t.length!==e.length||e.some(function(o,r){return o!==t[r]})}function Re(t,e){return typeof e=="function"?e(t):e}const F=t=>{const e=(o,r)=>r.all?o.every(([,n])=>n)?o.map(([n])=>[n,!1]):o.map(([n])=>[n,!0]):r.keys?o.map(([n])=>[n,r.keys.includes(n)]):o.map(([n,_])=>n===r.key?[n,r.val]:[n,_]);return()=>Ne(e,t)},Ke=[{id:"ab",name:"Abbasid Dynasty",href:"https://aoe4world.com/explorer/civs/abbasid"},{id:"ay",name:"Ayyubids",href:"https://aoe4world.com/explorer/civs/ayyubids"},{id:"by",name:"Byzantines",href:"https://aoe4world.com/explorer/civs/byzantines"},{id:"ch",name:"Chinese",href:"https://aoe4world.com/explorer/civs/chinese"},{id:"de",name:"Delhi Sultanate",href:"https://aoe4world.com/explorer/civs/delhi"},{id:"en",name:"English",href:"https://aoe4world.com/explorer/civs/english"},{id:"fr",name:"French",href:"https://aoe4world.com/explorer/civs/french"},{id:"hr",name:"Holy Roman Empire",href:"https://aoe4world.com/explorer/civs/hre"},{id:"ja",name:"Japanese",href:"https://aoe4world.com/explorer/civs/japanese"},{id:"je",name:"Jeanne d'Arc",href:"https://aoe4world.com/explorer/civs/jeannedarc"},{id:"ma",name:"Malians",href:"https://aoe4world.com/explorer/civs/malians"},{id:"mo",name:"Mongols",href:"https://aoe4world.com/explorer/civs/mongols"},{id:"od",name:"Order of the Dragon",href:"https://aoe4world.com/explorer/civs/orderofthedragon"},{id:"ot",name:"Ottomans",href:"https://aoe4world.com/explorer/civs/ottomans"},{id:"ru",name:"Rus",href:"https://aoe4world.com/explorer/civs/rus"},{id:"zx",name:"Zhu Xi's Legacy",href:"https://aoe4world.com/explorer/civs/zhuxi"}],Je=Ke.map(t=>[t.id,!0]),Xe=F(Je),Ze=F([1,2,3,4].map(t=>[`${t}`,t<=2])),ye=(t="",e="")=>t.localeCompare(e,void 0,{numeric:!0}),J=(t=0,e=0)=>t-e,X=(t=[],e=[])=>`${t}`.localeCompare(`${e}`,void 0,{numeric:!0}),Ee={name:ye,icon:!1,speed:J,dps:J,armors:ye,costs:J,classes:X,producedBy:X,civs:X},Ge=[["speed",-1],["name",1]],Qe=(t,e)=>{var o;if(Ee[e]){const r=((o=t.find(n=>e===n[0]))==null?void 0:o[1])??1;return[[e,-r],...t.filter(n=>e!==n[0])]}return t},Ye=()=>Ne(Qe,Ge),qe=t=>(e,o)=>{for(const[r,n]of t)if(r!=="icon"){const _=Ee[r](e==null?void 0:e[r],o==null?void 0:o[r]);if(_)return n*_}return 0},et=[["name",!0],["icon",!0],["speed",!0],["dps",!0],["armors",!1],["costs",!1],["classes",!1],["producedBy",!1],["civs",!0]],tt=F(et);var ot=0;function h(t,e,o,r,n,_){e||(e={});var c,a,u=e;if("ref"in u)for(a in u={},e)a=="ref"?c=e[a]:u[a]=e[a];var l={type:t,props:u,key:o,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--ot,__i:-1,__u:0,__source:n,__self:_};if(typeof t=="function"&&(c=t.defaultProps))for(a in c)u[a]===void 0&&(u[a]=c[a]);return y.vnode&&y.vnode(l),l}const ge={name:({item:t})=>h("a",{href:`https://aoe4world.com/explorer/units/${t.id}`,rel:"nofollow noopener noreferrer",target:"_blank",children:t.id}),icon:({item:t})=>Array.from(new Set(t.z_.map(e=>e.icon))).filter(e=>!!e).map(e=>{var o;return h("img",{src:e,title:(o=e.match(/\/([^/]*)(\.[^.]+)$/u))==null?void 0:o[1]},e)}),dps:({item:t})=>h("span",{children:t.dps.toFixed(2)}),costs:({item:t})=>h("span",{children:t.costText}),classes:({item:t})=>h("span",{children:t.classes.join()}),producedBy:({item:t})=>h("span",{children:t.producedBy.join()}),civs:({item:t})=>h("span",{children:t.civs.join()}),def:({item:t,p:e})=>h("span",{children:t[e]})},nt=(t,e)=>{const o=ge[e]||ge.def;return h(o,{item:t,p:e})},rt=t=>t.target&&t.target instanceof HTMLInputElement?t.target.checked:!1,j=({title:t,set:e,update:o,sub:r})=>h(L,{children:[h("dt",{children:t}),h("dd",{children:[r===!1?null:h("div",{class:"line",children:[h("label",{children:[h("input",{type:"checkbox",checked:e.every(([,n])=>n),onChange:()=>o({all:!0})}),"all"]},"all"),r]}),e.map(([n,_])=>h("label",{children:[h("input",{type:"checkbox",checked:_,onChange:c=>o({key:n,val:rt(c)})}),n]},n))]})]}),_t=({data:t})=>{var P,E;const[e,o]=(P=me()).current??(P.current=(()=>{const f=Array.from(new Set(t.flatMap(b=>b.classes))),g=f.filter(b=>b!=="ship"&&b!=="warship");return[g,F(f.map(b=>[b,g.includes(b)]))]})()),r=(E=me()).current??(E.current=F(Array.from(new Set(t.flatMap(f=>f.producedBy))).map(f=>[f,!0]))),[n,_]=tt(),[c,a]=Xe(),[u,l]=Ze(),[p,s]=Ye(),[m,i]=o(),[d,k]=r(),x=Object.fromEntries(c),v=u.filter(([,f])=>f).map(f=>Number(f[0])),$=m.filter(([,f])=>f).map(f=>f[0]),C=d.filter(([,f])=>f).map(f=>f[0]),N=be(t.filter(f=>v.includes(f.age)).filter(f=>f.classes.some(g=>$.includes(g))).filter(f=>f.producedBy.some(g=>C.includes(g))).map(f=>({...f,civs:f.civs.filter(g=>x[g])})).filter(f=>f.civs.length)).sort(qe(p));return h("div",{children:[h("dl",{class:"tools",children:[h(j,{title:"civilizations",set:c,update:a}),h(j,{title:"age",set:u,update:l,sub:!1}),h(j,{title:"keys",set:n,update:_,sub:!1}),n.some(([f,g])=>f==="classes"&&g)?h(j,{title:"classes",set:m,update:i,sub:h("label",{children:[h("input",{type:"checkbox",checked:m.every(([f,g])=>f!=="ship"&&f!=="warship"?g:!g),onChange:()=>i({keys:e})}),"not ship"]},"no-ship")}):null,n.some(([f,g])=>f==="producedBy"&&g)?h(j,{title:"producedBy",set:d,update:k}):null]}),h("table",{children:[h("thead",{children:h("tr",{children:n.filter(([,f])=>f).map(([f])=>h("th",{onClick:()=>s(f),children:f},f))})}),h("tbody",{children:N.map(f=>h("tr",{children:n.filter(([,g])=>g).map(([g])=>h("td",{children:nt(f,g)},g))},f.id))})]})]})},st=async()=>{const t=await je(),e=be(t.data);console.log(e),globalThis.json=t,globalThis.list=e;const o=document.querySelector("main");o&&Ue(h(_t,{data:t.data}),o)};Promise.resolve().then(st).catch(t=>console.error(t));
